---
import BaseLayout from '../../layouts/BaseLayout.astro';
import HeroSection from '../../components/home/HeroSection.astro';
import ServiceGrid from '../../components/home/ServiceGrid.astro';
import Testimonial from '../../components/home/Testimonial.astro';
import CtaBanner from '../../components/home/CtaBanner.astro';
import { t } from '../../i18n/translations';
import { getServiceIntro } from '../../data/services';

const lang = 'en' as const;
const i18n = t(lang);
const serviceIntro = getServiceIntro(lang);
---

<BaseLayout title={i18n.seoTitleHome} currentPath="/en/" lang={lang}>
  <HeroSection lang={lang} />

  <section class="section">
    <div class="container">
      <div class="home-grid">
        <div class="home-col home-col--sidebar">
          <h2>{i18n.homeHeading}</h2>
          <p>{serviceIntro.heading}</p>
          <ul>
            {serviceIntro.items.map((item) => (
              <li>{item}</li>
            ))}
          </ul>
        </div>

        <div class="home-col home-col--main">
          <h2>{i18n.homeProducts}</h2>
          <ServiceGrid lang={lang} />
        </div>

        <div class="home-col home-col--sidebar">
          <h2>{i18n.homeNotice}</h2>
          <Testimonial lang={lang} />
          <div class="home-image">
            <img src="/images/image-1.webp" alt={i18n.aboutImageAlt} width="640" height="480" loading="lazy" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <CtaBanner lang={lang} />
</BaseLayout>

<style>
  .home-grid {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-xl);
  }

  .home-col h2 {
    font-size: 1.50rem;
    margin-bottom: var(--space-md);
    padding-bottom: 0.75rem;
    border-bottom: 2px solid var(--color-accent);
  }

  .home-image {
    margin-top: var(--space-md);
  }

  .home-image img {
    border-radius: var(--radius);
    width: 100%;
    height: auto;
  }

  @media (max-width: 1024px) {
    .home-grid {
      grid-template-columns: 1fr 1fr;
    }

    .home-col--sidebar:first-child {
      grid-column: 1 / -1;
    }
  }

  @media (max-width: 778px) {
    .home-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
