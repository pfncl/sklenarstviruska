---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ProgressBar from '../../components/about/ProgressBar.svelte';
import Icon from '../../components/ui/Icon.astro';
import { t } from '../../i18n/translations';
import { getMainServices } from '../../data/services';

const lang = 'en' as const;
const i18n = t(lang);
const mainServices = getMainServices(lang);

const progressItems = [
  { label: 'Glass processing', percentage: 100 },
  { label: 'Glass installation', percentage: 80 },
  { label: 'Fire-resistant glass', percentage: 70 },
];
---

<BaseLayout
  title={i18n.seoTitleAbout}
  description={i18n.seoDescAbout}
  currentPath="/en/about"
  lang={lang}
>
  <section class="section">
    <div class="container">
      <div class="about-grid">
        <div class="about-col">
          <h2>{i18n.aboutWhyTitle}</h2>
          <blockquote>
            {i18n.aboutWhyQuote}
          </blockquote>
        </div>

        <div class="about-col">
          <h2>{i18n.aboutWhatTitle}</h2>
          <ul>
            {i18n.aboutWhatItems.map((item) => (
              <li>{item}</li>
            ))}
          </ul>
        </div>

        <div class="about-col">
          <h2>{i18n.aboutExpTitle}</h2>
          <ProgressBar items={progressItems} client:visible />
        </div>
      </div>
    </div>
  </section>

  <section class="section section--gray">
    <div class="container">
      <h2 class="section-heading">{i18n.aboutGoodTitle}</h2>
      <p class="section-text">
        {i18n.aboutGoodText1}
      </p>
      <p class="section-text">
        {i18n.aboutGoodText2}
      </p>

      <div class="benefits-grid">
        {mainServices.map((service) => (
          <div class="benefit-card">
            <div class="benefit-card__icon">
              <Icon name={service.icon} size={32} />
            </div>
            <div>
              <h3 class="benefit-card__title">{service.title}</h3>
              <p class="benefit-card__desc">{service.description}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .about-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-xl);
  }

  .about-col h2 {
    font-size: 1.25rem;
    margin-bottom: var(--space-md);
    padding-bottom: 0.75rem;
    border-bottom: 2px solid var(--color-accent);
  }

  .section-heading {
    margin-bottom: var(--space-md);
  }

  .section-text {
    max-width: 800px;
  }

  .benefits-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-lg);
    margin-top: var(--space-xl);
  }

  .benefit-card {
    display: flex;
    gap: var(--space-sm);
    align-items: flex-start;
  }

  .benefit-card__icon {
    flex-shrink: 0;
    color: var(--color-accent);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .benefit-card__title {
    font-size: 1rem;
    margin-bottom: 0.35rem;
  }

  .benefit-card__desc {
    font-size: 0.990rem;
    line-height: 1.6;
    margin: 0;
  }

  @media (max-width: 1024px) {
    .about-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 778px) {
    .benefits-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
